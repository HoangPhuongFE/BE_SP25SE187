@startuml
title SD06 - DefenseSchedule Status Lifecycle (Updated)

left to right direction

skinparam state {
  BackgroundColor<<initial>> #E6F2FF
  BackgroundColor<<processing>> #FFEBB2
  BackgroundColor<<final>> #CCE5FF
  BackgroundColor<<error>> #FFD6D6
  BorderColor Black
  FontColor Black
  FontSize 14
  FontName "Segoe UI"
  Shadowing false
  RoundCorner 20
}

state "Scheduled" as SCHEDULED <<initial>>
state "Waiting" as WAITING <<processing>>
state "In Progress" as IN_PROGRESS <<processing>>
state "Partially Completed" as PARTIAL <<processing>>
state "Rescheduled" as RESCHEDULED <<processing>>
state "Finalized" as FINALIZED <<processing>>
state "Completed" as COMPLETED <<final>>
state "Cancelled" as CANCELLED <<error>>

[*] --> SCHEDULED
SCHEDULED --> WAITING : Before start time
WAITING --> IN_PROGRESS : Time reached
IN_PROGRESS --> PARTIAL : Some students failed
IN_PROGRESS --> FINALIZED : All students evaluated
PARTIAL --> RESCHEDULED : Retake for failed students
RESCHEDULED --> FINALIZED
FINALIZED --> COMPLETED : Defense closed
SCHEDULED --> CANCELLED : Review failed
COMPLETED --> [*]
CANCELLED --> [*]
@enduml