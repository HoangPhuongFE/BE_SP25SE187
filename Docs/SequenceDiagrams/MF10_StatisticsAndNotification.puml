@startuml
title 10 - Review Statistics and Notification with Rescheduling

actor AcademicOfficer
participant ReviewStatsController
participant ReviewStatsService
participant EmailService
participant DefenseScheduler
database ReviewAssignment
database User

AcademicOfficer -> ReviewStatsController : generateReviewStats()
ReviewStatsController -> ReviewStatsService : fetchStats()
ReviewStatsService -> ReviewAssignment : queryAll()
ReviewAssignment --> ReviewStatsService : reviewData
ReviewStatsService -> ReviewStatsController : return stats
ReviewStatsController -> AcademicOfficer : show stats

AcademicOfficer -> ReviewStatsController : sendEmailNotifications()
ReviewStatsController -> EmailService : sendBatchEmail()
EmailService -> User : fetchRecipients()
User --> EmailService : recipientList
EmailService -> EmailService : sendMail(recipientList)

ReviewStatsController -> DefenseScheduler : getFailedStudents()
DefenseScheduler -> DefenseScheduler : scheduleRound2(failedStudents)
DefenseScheduler -> EmailService : notifyReschedule(failedStudents)
@enduml